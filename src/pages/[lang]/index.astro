---
import Layout from '@/layouts/Layout.astro';
import Navigation from '@/components/Navigation';
import Hero from '@/components/Hero.astro';
import About from '@/components/About.astro';
import Services from '@/components/Services.astro';
import WhatYouGet from '@/components/WhatYouGet.astro';
import Mission from '@/components/Mission.astro';
import Portfolio from '@/components/Portfolio.astro';
import Reviews from '@/components/Reviews.astro';
import Footer from '@/components/Footer.astro';
import { getTranslations, type Locale } from '@/lib/i18n';

export async function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'ru' } },
  ];
}

const { lang } = Astro.params;
const locale = (lang || 'en') as Locale;
const t = getTranslations(locale);
---

<Layout locale={locale}>
  <div class="min-h-screen bg-background">
    <Navigation client:load locale={locale} translations={t.navigation} />
    <main>
      <Hero translations={t.hero} contactTranslations={t.contact} locale={locale} />
      <About translations={t.about} locale={locale} />
      <Services translations={t.services} locale={locale} />
      <WhatYouGet translations={t.whatYouGet} locale={locale} />
      <Mission translations={t.mission} contactTranslations={t.contact} locale={locale} />
      <Portfolio translations={t.portfolio} locale={locale} />
      <Reviews translations={t.reviews} locale={locale} />
    </main>
    <Footer translations={t.footer} />
  </div>
</Layout>

